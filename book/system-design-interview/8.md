# 8장 URL 단축기 설계

솔직히 단축기 설계를 고민해 본 적이 없었다.

그래서 간단하게 이해한 바로는

- URL을 단축시키고.
- URL을 리다이렉션 시키며
- 그 과정에서 추가적으로 로깅같은 작업을 해주는 것으로 이해하였음.

신경을 써야되는 지점은

- 유일성
- 단축
- 보안

방법으로는

- 해시 함수
    - 해시 함수로 처리한 뒤, 결과값의 앞부분 일부를 잘라 사용
    - 해시 충돌 확률이 높아져 재시도 로직이 필요함
- base62
    - 정수 ID → Base62 (62인 이유는 숫자, 대소문자 갯수)
    - 다음 코드 예측 가능 문제  

[사용자 요청] → [프록시 / CDN / 로드밸런서] → [애플리케이션 서버] → [캐시 or DB]

### 느낀 점

실제로 사내 서비스같은 경우 url이 길지 않았고. 어렷품이 라우터가 그대로 url 노출되면 위험하지 않을까? 라는 생각은 들었지만 더 발전시키지 않았었다. 찾아보니 꼭 길어서 뿐만이 아닌 보안으로 인해 사용될 수 있다는 점을 배웠다.